<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no,maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=no">
  <meta name="theme-color" content="#000000">
  <meta name="msapplication-tap-highlight" content="no">
  <title>卡戳 APPX</title>
</head>
<style>
  html,
  body,
  #app-box {
    height: 100%;
    width: 100%;
    overflow: hidden;
  }
</style>
<script>
  function createCordovaScript() {
    if (window.location.protocol === 'file:' || window.location.port === '3000') {
      var cordovaScript = document.createElement('script');
      cordovaScript.setAttribute('type', 'text/javascript');
      cordovaScript.setAttribute('src', 'cordova.js');
      document.body.appendChild(cordovaScript);
    }
  }
  var exitAppTicker = 0;
  function eventBackButton() {
    if (window.location.href.indexOf('indextab') != -1) {
      if (exitAppTicker == 0) {
        exitAppTicker++;
        Toast("再点一次退出", 2000);
        setTimeout(function () {
          exitAppTicker = 0;
        }, 2000);
      } else {
        navigator.app.exitApp(); //退出app
      }
    } else {
      navigator.app.backHistory();
    }
  }
  //自定义弹框 2s消失
  function Toast(msg, duration) {
    isToast = true;
    beginDate = new Date().getTime();
    duration = isNaN(duration) ? 3000 : duration; // duration是不是一个数字    
    var m = document.createElement('div');
    m.innerHTML = msg;
    m.style.cssText = "width:60%; min-width:150px; background:#000; height:40px; color:#fff; line-height:40px; text-align:center; border-radius:5px; position:fixed; top:80%; left:20%; z-index:999999; font-weight:bold;";
    document.body.appendChild(m);
    setTimeout(function () {
      var d = 0.5;
      m.style.webkitTransition = '-webkit-transform ' + d + 's ease-in, opacity ' + d + 's ease-in';
      m.style.opacity = '0';
      setTimeout(function () { document.body.removeChild(m) }, d * 1000);
    }, duration);
  }
</script>

<body>
  <div id="app-box" style="height:100%;"></div>
</body>

<script>
  window.onload = function () {
    createCordovaScript();
  }
</script>

</html>